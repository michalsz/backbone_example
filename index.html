<!DOCTYPE html>
<html>
<head>
  <title>Sport trends in Twitter</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <script type="text/javascript" src="lib/underscore.js"></script>
  <script type="text/javascript" src="lib/jquery/jquery-1.8.0.min.js"></script>
  <script type="text/javascript" src="lib/backbone/backbone.js"></script>
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="lib/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
  <link href="css/main.css" rel="stylesheet" />
  <script type="text/javascript">
      function initialize() {
        var myLatlng = new google.maps.LatLng(52.216582, 21.022339);
        markers = [];
        var mapOptions = {
          center: new google.maps.LatLng(52.216582, 21.022339),
          zoom: 2,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        map = new google.maps.Map(document.getElementById("map"),
            mapOptions);

        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title:"Hello World!"
        });
      };


      function putMarker(twitt){
        var geo = twitt.get('geo');
        var myLatlng = new google.maps.LatLng(geo.coordinates[0], geo.coordinates[1]);
        
        var image = new google.maps.MarkerImage(
            'img/map-icon-twitt.png',
            new google.maps.Size(32,37),
            new google.maps.Point(0,0),
            new google.maps.Point(16,37)
        );

        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            icon: image,
            title: twitt.get('text')
        });

        markers.push(marker);
      };


      function removeMarkers(){
        if (markers) {
            for (var i = 0; i < markers.length; i++ ) {
                markers[i].setMap(null);
            }
        }
      }
    </script>
</head>
<body onload="initialize()">
  <script type="text/template" id="header-template">
    <img class="avatar thumbnail" src="<%= profile_image_url  %>"/>
    <strong class="user">@<%= from_user %></strong>
    <img src="img/bird_blue_32.png" />
    <p class="t_text"><%= text %></p>
    <span class="geo"></span>
    <a class="retweet" href="https://twitter.com/intent/retweet?tweet_id=<%= id %>">Retweet</a>
  </script>


  <div class="container">
    <div id="app">
    </div>
      <form onsubmit"javascript:void" action="#">
        <legend>Add friend</legend>
        <div id="errors" class="alert alert-error"></div>
        <input type="text" id="friend-name" placeholder="Friend Name" />
		    <button id="add-friend" class="btn btn-success">Add Friend</button>
      </form>
   
      <ul id="friends-list">
      </ul>

      <form onsubmit"javascript:void" action="javascript:void">
        <legend>Search in twitter</legend>
        <input type="text" id="search" placeholder="Keyword" value="krakÃ³w" />
        <button id="search-btn" class="btn btn-success">Search</button>
        <button id="clear-btn" class="btn btn-danger">Clear</button>
	    </form>
      <div id="tweets"></div>
      <div id="map"></div>
      <script src="lib/models/friend.js"></script>
      <script src="lib/models/twitter.js"></script>
    </div>
  </body>
</html>
